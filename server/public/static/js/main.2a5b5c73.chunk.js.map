{"version":3,"sources":["Models/ModalMode.ts","Models/Vacation.ts","redux/action-type.ts","redux/app-state.ts","redux/store.ts","redux/reducer.ts","components/generic-utils/modal.tsx","components/generic-utils/nav-btn.tsx","components/admin/manage-vacation.tsx","icons/star.png","icons/delete.png","components/vacation-card/vacation-card.tsx","icons/edit-pencil.png","icons/chart.png","components/admin/admin.tsx","components/admin/chart.tsx","components/header/header.tsx","Models/User.ts","components/home/home.tsx","components/user/edit-profile.tsx","components/layout/layout.tsx","reportWebVitals.ts","index.tsx"],"names":["ModalMode","ActionType","Vacation","id","destination","imageUrl","description","price","startDate","endDate","isFollowed","amountOfFollowers","store","createStore","oldAppState","action","vacations","newAppState","type","GetVacationsList","payload","GuestTryToFollowVacation","guestTryToFollow","ShowLoginModal","showLoginModal","SetSocket","socket","Login","loggedIn","Logout","AddNewVacation","push","DeleteVacation","deletedVacationId","i","length","splice","EditVacation","editedVacation","EditingVacation","movedToEdit","ClearEditVacationForm","GetVacationDetails","vacationDetails","newVacation","GenericModal","props","modal","this","className","msg","value","onClick","onSubmit","onDelete","Component","GenericNavBtn","nav","to","page","function","displayText","ManageVacation","mode","getState","EDIT","ADD","getVacationDetails","vacation","setState","editVacation","e","a","preventDefault","state","axios","put","dispatch","onSubmitSuccess","alert","response","data","error","console","log","addVacation","allVacations","newVacationDetails","post","displaySuccessModal","setTimeout","resetInputs","history","Date","MODE","autoFocus","placeholder","maxLength","onChange","target","required","toISOString","split","min","getTime","getTimezoneOffset","Card","deleteVacation","delete","onEditClicked","onCardClicked","sessionStorage","getItem","unfollowVacation","followVacation","vacationId","updateUI","message","forEach","displayModal","adminLoggedIn","customerLoggedIn","landing","style","backgroundImage","src","alt","Delete","Star","Admin","unsubscribeStore","validateAdminLoggedIn","defaults","headers","common","getVacationsFromServer","get","subscribe","Chart","map","validateAdminIsLoggedIn","getChartDataFromServer","chartData","followedVacations","setChartData","datasets","labels","label","backgroundColor","borderColor","hoverBorderWidth","height","width","options","title","display","text","fontSize","fontFamily","legend","scales","xAxes","scaleLabel","labelString","yAxes","ticks","beginAtZero","stepSize","Header","logout","clear","disconnect","setItem","userAlias","callToAction","User","username","password","firstName","lastName","Home","checkIfLoggedInOnSession","getAllVacations","connectToSocket","getUsersFollowing","followedIds","followed","customVacationsList","includes","register","newUserDetails","login","userLoginDetails","serverResponse","token","closeLoginModal","handleUserType","userType","onRegisterMode","io","query","connect","on","vacationsList","isLanding","sort","b","EditProfile","getUserDetails","user","editProfile","userDetails","validatePassword","successModalMode","SAVED","handleSuccessModal","modalType","deleteAccount","DELETED","successMsg","defaultValue","Layout","path","component","exact","from","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a5b5c73.chunk.js","sourcesContent":["export enum ModalMode {\r\n    SAVED,\r\n    DELETED,\r\n    EDIT  = \"Edit\",\r\n    ADD = \"Add\",\r\n}\r\n","export class Vacation {\r\n    public constructor(\r\n        public id: number,\r\n        public destination: string,\r\n        public imageUrl: string,\r\n        public description: string,\r\n        public price: number,\r\n        public startDate: Date,\r\n        public endDate: Date,\r\n        public isFollowed?: number,\r\n        public amountOfFollowers?: number,\r\n    ) { }\r\n}\r\n","export enum ActionType {\r\n    GetVacationsList,\r\n    AddNewVacation,\r\n    \r\n    GuestTryToFollowVacation,\r\n    ShowLoginModal,\r\n\r\n    SetSocket,\r\n    Login,\r\n    Logout,\r\n\r\n    GetVacationDetails,\r\n    EditVacation,\r\n    DeleteVacation,\r\n\r\n    EditingVacation,\r\n    ClearEditVacationForm\r\n}\r\n","import { Vacation } from \"../Models/Vacation\";\r\n\r\nexport class AppState {\r\n    public vacations: Vacation[] = [];\r\n    public newVacation: any;\r\n\r\n    public guestTryToFollow: boolean = false;\r\n    public showLoginModal: boolean = true;\r\n    public loggedIn: boolean = false;\r\n    public socket: any;\r\n\r\n    public vacationDetails: Vacation;\r\n    public movedToEdit: boolean = false;\r\n}\r\n","import { createStore } from \"redux\";\r\nimport { reduce } from \"./reducer\";\r\nimport { AppState } from \"./app-state\";\r\n\r\nexport const store = createStore(reduce, new AppState());\r\n","import { AppState } from \"./app-state\";\r\nimport { ActionType } from \"./action-type\";\r\nimport { Action } from \"./action\";\r\n\r\nexport function reduce(oldAppState: AppState, action: Action): AppState {\r\n    const newAppState = { ...oldAppState };\r\n    let vacations;\r\n\r\n    switch (action.type) {\r\n        // Vacations lists\r\n        case ActionType.GetVacationsList:\r\n            newAppState.vacations = action.payload;\r\n            break;\r\n\r\n        // Modal triggers\r\n        case ActionType.GuestTryToFollowVacation:\r\n            newAppState.guestTryToFollow = action.payload;\r\n            break;\r\n        case ActionType.ShowLoginModal:\r\n            newAppState.showLoginModal = action.payload;\r\n            break;\r\n\r\n        // Login / logout\r\n        case ActionType.SetSocket:\r\n            newAppState.socket = action.payload;\r\n            break;\r\n        case ActionType.Login:\r\n            newAppState.loggedIn = true;\r\n            break;\r\n        case ActionType.Logout:\r\n            newAppState.loggedIn = false;\r\n            break;\r\n\r\n        // ADMIN\r\n        case ActionType.AddNewVacation:\r\n            newAppState.vacations.push(action.payload);\r\n            break;\r\n\r\n        case ActionType.DeleteVacation:\r\n            vacations = newAppState.vacations;\r\n            let deletedVacationId = action.payload;\r\n\r\n            for (let i = 0; i < vacations.length; i++) {\r\n                vacations[i].id === +deletedVacationId && (vacations.splice(i, 1));\r\n            }\r\n            break;\r\n\r\n        case ActionType.EditVacation:\r\n            vacations = newAppState.vacations;\r\n            let editedVacation = action.payload;\r\n\r\n            for (let i = 0; i < vacations.length; i++) {\r\n                if (vacations[i].id === editedVacation.id) {\r\n                    editedVacation.isFollowed = vacations[i].isFollowed;\r\n                    editedVacation.amountOfFollowers = vacations[i].amountOfFollowers;\r\n                    vacations.splice(i, 1, editedVacation);\r\n                }\r\n            }\r\n            break;\r\n     \r\n        case ActionType.EditingVacation:\r\n            newAppState.movedToEdit = true;\r\n            break;\r\n            \r\n        case ActionType.ClearEditVacationForm:\r\n            newAppState.movedToEdit = false;\r\n            break;\r\n\r\n        case ActionType.GetVacationDetails:\r\n            newAppState.vacationDetails = action.payload;\r\n            break;\r\n    }\r\n\r\n    return newAppState;\r\n}\r\n","import { Component } from \"react\";\r\nimport './modal.css';\r\n\r\ninterface GenericModalProps {\r\n  msg: string,\r\n  type: string,\r\n  onSubmit?: any,\r\n  onDelete?: any\r\n}\r\n\r\nexport default class GenericModal extends Component<GenericModalProps> {\r\n\r\n  public constructor(props: GenericModalProps) {\r\n    super(props);\r\n  }\r\n\r\n  public render() {\r\n    let modal = this.props;\r\n\r\n    return (\r\n      <div className={`modal ${modal.type}`}>\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n\r\n            <h2 id={`${modal.type}-msg`}>\r\n              {modal.msg}\r\n            </h2>\r\n\r\n            {/* Deletion */}\r\n            {modal.type === 'danger'\r\n              &&\r\n              <div className=\"btns\">\r\n                <input className=\"submit-btn\" type=\"submit\" value=\"Oh, no! My bad.\" onClick={modal.onSubmit} />\r\n                <input className=\"delete-btn\" type=\"button\" value=\"Yes, please.\" onClick={modal.onDelete} />\r\n              </div>\r\n            }\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\ninterface GenericNavBtnProps {\r\n    page: string,\r\n    displayText: string,\r\n    function?: any\r\n}\r\n\r\nexport default class GenericNavBtn extends Component<GenericNavBtnProps> {\r\n\r\n    public constructor(props: GenericNavBtnProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render() {\r\n        let nav = this.props;\r\n\r\n        return (\r\n            <div className=\"nav-btn\">\r\n                <Link\r\n                    to={`/${nav.page}`}>\r\n\r\n                    <button onClick={nav.function}>\r\n                        {nav.displayText}\r\n                    </button>\r\n                    \r\n                </Link>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import axios from \"axios\";\r\nimport React, { FormEvent } from \"react\";\r\nimport { Component } from \"react\";\r\nimport { ModalMode } from \"../../Models/ModalMode\";\r\nimport { Vacation } from \"../../Models/Vacation\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { store } from \"../../redux/store\";\r\nimport GenericModal from \"../generic-utils/modal\";\r\nimport GenericNavBtn from \"../generic-utils/nav-btn\";\r\n\r\ninterface ManageVacationState {\r\n    id: number,\r\n    destination: string,\r\n    description: string,\r\n    imageUrl: string,\r\n    price: number,\r\n    startDate: Date,\r\n    endDate: Date,\r\n    displaySuccessModal: boolean,\r\n    mode: ModalMode\r\n}\r\n\r\nexport default class ManageVacation extends Component<any, ManageVacationState> {\r\n    private mode = store.getState().movedToEdit ? ModalMode.EDIT : ModalMode.ADD;\r\n\r\n    public constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: null,\r\n            destination: \"\",\r\n            imageUrl: \"\",\r\n            description: \"\",\r\n            price: 0,\r\n            startDate: new Date(),\r\n            endDate: new Date(),\r\n            displaySuccessModal: false,\r\n            mode: this.mode\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Validate admin is logged in\r\n        !store.getState().loggedIn && this.props.history.push(\"/admin\");\r\n\r\n        // If edit vacation - get it's details\r\n        this.state.mode === ModalMode.EDIT && this.getVacationDetails();\r\n    }\r\n\r\n    private getVacationDetails = () => {\r\n        let vacation = store.getState().vacationDetails;\r\n\r\n        this.setState({\r\n            id: vacation.id,\r\n            destination: vacation.destination,\r\n            imageUrl: vacation.imageUrl,\r\n            description: vacation.description,\r\n            price: vacation.price,\r\n            startDate: vacation.startDate,\r\n            endDate: vacation.endDate,\r\n        });\r\n    };\r\n\r\n    private editVacation = async (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            let vacationDetails = new Vacation(this.state.id,\r\n                this.state.destination, this.state.imageUrl, this.state.description, this.state.price,\r\n                this.state.startDate, this.state.endDate);\r\n\r\n            await axios.put(\"http://localhost:3001/vacations/\", vacationDetails);\r\n            store.dispatch({ type: ActionType.EditVacation, payload: vacationDetails });\r\n            this.onSubmitSuccess();\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.error);\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    private addVacation = async (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n\r\n        if (this.state.price === 0) {\r\n            alert(\"Vacation's price cannot be free!\")\r\n            return;\r\n        }\r\n\r\n        // Defined an id for the new vacation\r\n        let allVacations = store.getState().vacations;\r\n        let id = allVacations[allVacations.length - 1].id + 1;\r\n\r\n        try {\r\n            let newVacationDetails = new Vacation(id, this.state.destination, this.state.imageUrl,\r\n                this.state.description, this.state.price, this.state.startDate, this.state.endDate);\r\n\r\n            await axios.post(\"http://localhost:3001/vacations/\", newVacationDetails);\r\n            store.dispatch({ type: ActionType.AddNewVacation, payload: newVacationDetails });\r\n            this.onSubmitSuccess();\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.error);\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    private onSubmitSuccess = () => {\r\n        this.setState({ displaySuccessModal: true });\r\n\r\n        setTimeout(() => {\r\n            this.setState({ displaySuccessModal: false });\r\n            this.resetInputs();\r\n\r\n            if (this.state.mode === ModalMode.EDIT) {\r\n                store.dispatch({ type: ActionType.ClearEditVacationForm });\r\n                this.props.history.push('/admin');\r\n            }\r\n        }, 2000)\r\n    }\r\n\r\n    private resetInputs() {\r\n        this.setState({\r\n            destination: \"\",\r\n            imageUrl: \"\",\r\n            description: \"\",\r\n            price: 0,\r\n            startDate: null,\r\n            endDate: null\r\n        });\r\n    };\r\n\r\n\r\n    public render() {\r\n        const MODE = this.state.mode;\r\n\r\n        return (\r\n            <div className=\"manage-vacations\">\r\n\r\n                <GenericNavBtn\r\n                    page=\"admin\"\r\n                    displayText=\"Back Home\"\r\n                    function={() => store.dispatch({ type: ActionType.ClearEditVacationForm })}\r\n                />\r\n\r\n                {this.state.displaySuccessModal &&\r\n                    <GenericModal\r\n                        msg={`Vacation ${MODE === ModalMode.EDIT ? 'changed' : 'added'}!`}\r\n                        type='success' />\r\n                }\r\n\r\n\r\n                {/* MANAGE VACATION FORM */}\r\n                <form onSubmit={MODE === ModalMode.EDIT ? this.editVacation : this.addVacation} className=\"backdrop-form\" >\r\n                    <h2>{MODE} Vacation</h2>\r\n\r\n\r\n                    <input autoFocus type=\"text\" placeholder=\"Destination\" value={this.state.destination} maxLength={60}\r\n                        onChange={e => this.setState({ destination: e.target.value })} required />\r\n                    <input type=\"text\" placeholder=\"Image Url\" value={this.state.imageUrl} maxLength={300}\r\n                        onChange={e => this.setState({ imageUrl: e.target.value })} required />\r\n                    <input type=\"text\" placeholder=\"Description\" value={this.state.description} maxLength={100}\r\n                        onChange={e => this.setState({ description: e.target.value })} required />\r\n                    <input type=\"number\" placeholder=\"Price\" value={this.state.price}\r\n                        onChange={e => this.setState({ price: +e.target.value })} required />\r\n\r\n                    <input type=\"date\" placeholder=\"Start Date\" className=\"start-date\"\r\n                        value={new Date(this.state.startDate).toISOString().split('T')[0]}\r\n                        min={new Date(new Date().getTime() - new Date().getTimezoneOffset() * 60000).toISOString().split(\"T\")[0]}\r\n                        onChange={e => this.setState({ startDate: new Date(e.target.value) })} required />\r\n\r\n                    <input type=\"date\" placeholder=\"End Date\" className=\"end-date\"\r\n                        value={new Date(this.state.endDate).toISOString().split('T')[0]}\r\n                        min={new Date(this.state.startDate).toISOString().split(\"T\")[0]}\r\n                        onChange={e => this.setState({ endDate: new Date(e.target.value) })} required />\r\n\r\n\r\n                    <div className=\"btns\">\r\n                        <input className=\"submit-btn\" type=\"submit\" value={MODE === ModalMode.EDIT ? \"Save\" : \"Add\"} />\r\n                    </div>\r\n\r\n                </form>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/star.bbf860dc.png\";","export default __webpack_public_path__ + \"static/media/delete.9321bd63.png\";","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { store } from \"../../redux/store\";\r\nimport Star from \"../../icons/star.png\";\r\nimport Edit from \"../../icons/edit-pencil.png\";\r\nimport Delete from \"../../icons/delete.png\";\r\nimport './vacation-card.css';\r\nimport { Link } from \"react-router-dom\";\r\nimport { Vacation } from \"../../Models/Vacation\";\r\nimport GenericModal from \"../generic-utils/modal\";\r\n\r\ninterface CardProps {\r\n    vacation: Vacation\r\n}\r\n\r\ninterface CardState {\r\n    displayModal: boolean\r\n}\r\n\r\nexport default class Card extends Component<CardProps, CardState> {\r\n\r\n    public constructor(props: CardProps) {\r\n        super(props);\r\n        this.state = { displayModal: false }\r\n    }\r\n\r\n    private deleteVacation = async () => {\r\n        try {\r\n            let id = this.props.vacation.id;\r\n            await axios.delete(\"http://localhost:3001/vacations/\" + id);\r\n            store.dispatch({ type: ActionType.DeleteVacation, payload: id });\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.error);\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    private onEditClicked = () => {\r\n        let vacation = this.props.vacation;\r\n        store.dispatch({ type: ActionType.GetVacationDetails, payload: vacation });\r\n        store.dispatch({ type: ActionType.EditingVacation });\r\n    }\r\n\r\n    // FOLLOW CASES\r\n    private onCardClicked = () => {\r\n        if (sessionStorage.getItem(\"userType\") === \"ADMIN\") {\r\n            return;\r\n        }\r\n\r\n        if (sessionStorage.getItem(\"userType\") === \"CUSTOMER\") {\r\n            let vacation = this.props.vacation;\r\n            // Toggle follow on DB\r\n            vacation.isFollowed\r\n                ? this.unfollowVacation(vacation.id)\r\n                : this.followVacation(vacation.id);\r\n\r\n        } else {\r\n            // Show login modal with warning for guests\r\n            store.dispatch({ type: ActionType.ShowLoginModal, payload: true });\r\n            store.dispatch({ type: ActionType.GuestTryToFollowVacation, payload: true });\r\n        }\r\n    }\r\n\r\n    private followVacation = async (vacationId: number) => {\r\n        try {\r\n            await axios.post(\"http://localhost:3001/vacations/followed\", { vacationId });\r\n            this.updateUI();\r\n\r\n        } catch (err) {\r\n            alert(err.message);\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    private unfollowVacation = async (vacationId: number) => {\r\n        try {\r\n            await axios.delete(\"http://localhost:3001/vacations/followed/\" + vacationId);\r\n            this.updateUI();\r\n\r\n        } catch (err) {\r\n            alert(err.message);\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    private updateUI = () => {\r\n        let vacations = [...store.getState().vacations];\r\n\r\n        vacations.forEach(vacation => {\r\n            if (vacation.id === this.props.vacation.id) {\r\n\r\n                if (vacation.isFollowed) {\r\n                    vacation.isFollowed -= 1;\r\n                    vacation.amountOfFollowers -= 1;\r\n\r\n                } else {\r\n                    vacation.isFollowed += 1;\r\n                    vacation.amountOfFollowers += 1;\r\n                }\r\n            }\r\n        });\r\n\r\n        store.dispatch({ type: ActionType.GetVacationsList, payload: vacations });\r\n    }\r\n\r\n\r\n    public render() {\r\n\r\n        let adminLoggedIn = sessionStorage.getItem(\"userType\") === \"ADMIN\";\r\n        let customerLoggedIn = sessionStorage.getItem(\"userType\") === \"CUSTOMER\";\r\n\r\n        let landing = sessionStorage.getItem('landing') ? '' : 'landing';\r\n        let isFollowed = this.props.vacation.isFollowed ? \"followed\" : \"\";\r\n\r\n        let amountOfFollowers = this.props.vacation.amountOfFollowers !== 0 ? this.props.vacation.amountOfFollowers : \"\";\r\n\r\n        return (\r\n            <div className={`vacations ${isFollowed} ${landing}`}\r\n                style={{ backgroundImage: `url(${this.props.vacation.imageUrl})` }}\r\n                onClick={this.onCardClicked} >\r\n\r\n                <h1>{this.props.vacation.destination}</h1>\r\n                <h5>{new Date(this.props.vacation.startDate).toISOString().split('T')[0]} - {new Date(this.props.vacation.startDate).toISOString().split('T')[0]}</h5>\r\n                <h2>{this.props.vacation.price} $</h2>\r\n                <p className=\"description\">{this.props.vacation.description}</p>\r\n\r\n                {adminLoggedIn\r\n                    ?\r\n                    <div>\r\n                        <Link to=\"/admin/manageVacation\">\r\n                            <img className=\"edit\" src={Edit} alt=\"edit\" onClick={this.onEditClicked} />\r\n                        </Link>\r\n\r\n                        <img className=\"delete\" src={Delete} alt=\"delete\" onClick={() => this.setState({ displayModal: true })} />\r\n                    </div>\r\n                    :\r\n                    // Customers & guests\r\n                    <div>\r\n                        <img className=\"follow\" src={Star} alt=\"follow\" />\r\n                        {customerLoggedIn && <label> <br />{amountOfFollowers}</label>}\r\n                    </div>}\r\n\r\n                {this.state.displayModal &&\r\n\r\n                    <GenericModal\r\n                        msg=\"Are you sure you want to delete this vacation?\"\r\n                        type=\"danger\"\r\n                        onSubmit={() => this.setState({ displayModal: false })}\r\n                        onDelete={this.deleteVacation}\r\n                    />}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/chart.53a0537a.png\";","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { Vacation } from \"../../Models/Vacation\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { store } from \"../../redux/store\";\r\nimport VacationCard from \"../vacation-card/vacation-card\";\r\nimport Chart from \"../../icons/chart.png\";\r\nimport \"./admin.css\";\r\nimport GenericNavBtn from \"../generic-utils/nav-btn\";\r\n\r\ninterface AdminState {\r\n  vacations: Vacation[]\r\n}\r\n\r\nexport default class Admin extends Component<any, AdminState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n    this.state = { vacations: [] }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.validateAdminLoggedIn();\r\n\r\n    this.unsubscribeStore = store.subscribe(() => this.setState({\r\n      vacations: store.getState().vacations\r\n    }));\r\n\r\n    // Get list from store, else if it's empty (page was refreshed) - than get it from DB\r\n    store.getState().vacations.length !== 0\r\n      ? this.setState({ vacations: store.getState().vacations })\r\n      : this.getVacationsFromServer();\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  private validateAdminLoggedIn = () => {\r\n    if (sessionStorage.getItem(\"userType\") !== \"ADMIN\") {\r\n      this.props.history.push(\"/home\");\r\n    }\r\n    else if (!store.getState().loggedIn && !sessionStorage.getItem(\"token\")) {\r\n      this.props.history.push(\"/admin\");\r\n    }\r\n    else {\r\n      store.dispatch({ type: ActionType.Login });\r\n      axios.defaults.headers.common['Authorization'] = sessionStorage.getItem(\"token\");\r\n    }\r\n  }\r\n\r\n  private getVacationsFromServer = async () => {\r\n    try {\r\n      const response = await axios.get<Vacation[]>(\"http://localhost:3001/vacations\");\r\n      let vacations = response.data;\r\n      store.dispatch({ type: ActionType.GetVacationsList, payload: vacations });\r\n\r\n    } catch (err) {\r\n      alert(err.response.data.error);\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n\r\n  public render() {\r\n    return (\r\n      <div className=\"admin\">\r\n\r\n        <GenericNavBtn page=\"admin/manageVacation\" displayText=\"Add Vacation\" />\r\n\r\n        <Link to=\"/admin/chart\"> <img className=\"chart\" src={Chart} alt=\"chart-icon\" /> </Link>\r\n\r\n        {this.state.vacations.map(vacation =>\r\n          <VacationCard key={vacation.id} vacation={vacation} />)}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nimport React, { Component } from \"react\";\r\nimport { Bar } from 'react-chartjs-2';\r\nimport { FollowedVacation } from \"../../Models/FollowedVacations\";\r\nimport { store } from \"../../redux/store\";\r\nimport GenericNavBtn from \"../generic-utils/nav-btn\";\r\n\r\ninterface ChartState {\r\n    followedVacations: FollowedVacation[],\r\n    labels: string[],\r\n    datasets: any[],\r\n}\r\n\r\nexport default class Chart extends Component<any, ChartState> {\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            followedVacations: [],\r\n            labels: [],\r\n            datasets: [{\r\n                label: 'Followed Vacations',\r\n                backgroundColor: 'rgba(102, 51, 153, 0.5)',\r\n                borderColor: 'rgba(0, 0, 0, 0.5)',\r\n                hoverBorderWidth: 1,\r\n                data: [],\r\n            }],\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.validateAdminIsLoggedIn();\r\n        this.getChartDataFromServer();\r\n    }\r\n\r\n    private validateAdminIsLoggedIn = () => {\r\n        if (!store.getState().loggedIn || sessionStorage.getItem(\"userType\") !== \"ADMIN\") {\r\n            this.props.history.push(\"/home\");\r\n        }\r\n    }\r\n\r\n    private getChartDataFromServer = async () => {\r\n        try {\r\n            const response = await axios.get<FollowedVacation[]>(\"http://localhost:3001/vacations/chart\");\r\n            let chartData = response.data;\r\n            this.setState({ followedVacations: chartData })\r\n            this.setChartData();\r\n\r\n        } catch (err) {\r\n            alert(err.message);\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    private setChartData = () => {\r\n        let datasets = this.state.datasets;\r\n        datasets[0].data = this.state.followedVacations.map((vacation: any) => vacation.amountOfFollowers);\r\n        let labels = this.state.followedVacations.map((vacation: any) => \"Vacation \" + vacation.id);\r\n\r\n        this.setState({ labels, datasets })\r\n    }\r\n\r\n\r\n\r\n    public render() {\r\n\r\n        return (\r\n            <div className=\"bar-chart\">\r\n\r\n                <GenericNavBtn page=\"admin\" displayText=\"Back Home\" />\r\n\r\n                <div className=\"backdrop-form\">\r\n                    <Bar\r\n                        data={this.state}\r\n                        height={370}\r\n                        width={1000}\r\n                        options={{\r\n                            title: {\r\n                                display: true,\r\n                                text: 'Followed Vacations',\r\n                                fontSize: 30,\r\n                                fontFamily: 'Baumans'\r\n                            },\r\n                            legend: {\r\n                                display: false\r\n                            },\r\n                            scales: {\r\n                                xAxes: [{\r\n                                    scaleLabel: {\r\n                                        display: true,\r\n                                        labelString: \"Vacation ID\",\r\n                                        fontSize: 18,\r\n                                        fontFamily: 'Baumans',\r\n                                    },\r\n                                }],\r\n                                yAxes: [{\r\n                                    ticks: {\r\n                                        beginAtZero: true,\r\n                                        stepSize: 1\r\n                                    },\r\n                                    scaleLabel: {\r\n                                        display: true,\r\n                                        labelString: \"Amount Of Followers\",\r\n                                        fontSize: 18,\r\n                                        fontFamily: 'Baumans'\r\n                                    },\r\n\r\n                                }]\r\n                            }\r\n                        }} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { store } from \"../../redux/store\";\r\nimport './header.css';\r\n\r\ninterface HeaderState {\r\n  loggedIn: boolean\r\n}\r\n\r\nexport default class Header extends Component<any, HeaderState> {\r\n\r\n  public constructor(props: any) {\r\n    super(props);\r\n    this.state = { loggedIn: false }\r\n  }\r\n\r\n  componentDidMount() {\r\n    store.subscribe(() =>\r\n      this.setState({\r\n        loggedIn: store.getState().loggedIn\r\n      }));\r\n  }\r\n\r\n  private logout = () => {\r\n    sessionStorage.clear();\r\n    store.dispatch({ type: ActionType.Logout });\r\n\r\n    let socket = store.getState().socket;\r\n    socket && socket.disconnect();\r\n\r\n    // the line below is for cancelling landing animation\r\n    sessionStorage.setItem('landing', 'done');\r\n  }\r\n\r\n  public render() {\r\n    let userAlias;\r\n    let callToAction;\r\n    let landing = sessionStorage.getItem('landing') ? '' : 'landing';\r\n\r\n    if (this.state.loggedIn) {\r\n      userAlias = sessionStorage.getItem(\"userAlias\");\r\n      callToAction = <Link className=\"log-in-out\" to=\"/home\" onClick={this.logout}>Log out</Link>;\r\n\r\n    } else {\r\n      userAlias = \"stranger\";\r\n      callToAction =\r\n        <h6 className=\"log-in-out\"\r\n          onClick={() => store.dispatch({ type: ActionType.ShowLoginModal, payload: true })}>\r\n          Login / Register\r\n        </h6>;\r\n    }\r\n\r\n    return (\r\n      <div className=\"header\">\r\n\r\n        <h6>Hello, {userAlias}!</h6>\r\n        {callToAction}\r\n\r\n        {landing && <h1 className=\"welcome\">Welcome!</h1>}\r\n        <h1 className={landing}>Obser Vacation</h1>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","export class User {\r\n  public constructor(\r\n    public username: string,\r\n    public password: string,\r\n    public firstName?: string,\r\n    public lastName?: string,\r\n    public id?: number,\r\n  ) {}\r\n}\r\n","import axios from \"axios\";\r\nimport React, { Component, FormEvent } from \"react\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport { Unsubscribe } from \"redux\";\r\nimport { User } from \"../../Models/User\";\r\nimport { SuccessfulLoginServerResponse } from \"../../Models/SuccessfulLoginServerResponse\";\r\nimport { Vacation } from \"../../Models/Vacation\";\r\nimport VacationCard from \"../vacation-card/vacation-card\";\r\nimport { io } from 'socket.io-client';\r\nimport GenericNavBtn from \"../generic-utils/nav-btn\";\r\nimport \"./home.css\";\r\n\r\ninterface HomeState {\r\n  vacations: Vacation[];\r\n\r\n  onRegisterMode: boolean;\r\n  loggedIn: boolean;\r\n  showLoginModal: boolean;\r\n\r\n  username: string;\r\n  password: string;\r\n  firstName: string;\r\n  lastName: string;\r\n}\r\n\r\nexport default class Home extends Component<any, HomeState> {\r\n  private unsubscribeStore: Unsubscribe;\r\n\r\n  constructor(props: any) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      vacations: [],\r\n      onRegisterMode: false, loggedIn: false, showLoginModal: true,\r\n      username: \"\", password: \"\", firstName: \"\", lastName: \"\"\r\n    };\r\n  }\r\n\r\n\r\n  componentDidMount() {\r\n    this.unsubscribeStore = store.subscribe(() =>\r\n      this.setState({\r\n        vacations: store.getState().vacations,\r\n        loggedIn: store.getState().loggedIn,\r\n        showLoginModal: store.getState().showLoginModal,\r\n      }));\r\n\r\n    this.checkIfLoggedInOnSession();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribeStore();\r\n  }\r\n\r\n  private checkIfLoggedInOnSession = () => {\r\n    // First, check if there's a list already in store (when switching components)\r\n    if (store.getState().vacations.length !== 0) {\r\n      this.setState({ vacations: store.getState().vacations });\r\n      return;\r\n    }\r\n\r\n    // If not - get all from DB\r\n    this.getAllVacations();\r\n\r\n    // And RECONNECT if there's a token on session storage (page was refreshed while logged in)\r\n    if (sessionStorage.getItem(\"token\")) {\r\n      store.dispatch({ type: ActionType.Login });\r\n      axios.defaults.headers.common['Authorization'] = sessionStorage.getItem(\"token\");\r\n\r\n      this.connectToSocket();\r\n      this.getUsersFollowing();\r\n    }\r\n  }\r\n\r\n  private getAllVacations = async () => {\r\n    try {\r\n      const response = await axios.get<Vacation[]>(\"http://localhost:3001/vacations\");\r\n      let allVacations = response.data;\r\n      store.dispatch({ type: ActionType.GetVacationsList, payload: allVacations });\r\n\r\n    } catch (err) {\r\n      alert(err.message);\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  private getUsersFollowing = async () => {\r\n    try {\r\n      const response = await axios.get<[]>(\"http://localhost:3001/vacations/followed\");\r\n      let followedVacations = response.data;\r\n\r\n      // Create an array of the following vacations id's\r\n      let followedIds: number[] = [];\r\n      followedVacations.map((followed: { vacationId: number; }) => followedIds.push(followed.vacationId));\r\n\r\n      // Update list accordingly\r\n      let customVacationsList = [...this.state.vacations];\r\n      customVacationsList.map(vacation => followedIds.includes(vacation.id) && (vacation.isFollowed = 1));\r\n      store.dispatch({ type: ActionType.GetVacationsList, payload: customVacationsList });\r\n\r\n    } catch (err) {\r\n      alert(err.message);\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n\r\n  //  FUNCTIONALITIES\r\n  private register = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let newUserDetails = new User(this.state.username, this.state.password, this.state.firstName, this.state.lastName);\r\n      await axios.post(\"http://localhost:3001/users\", newUserDetails);\r\n      this.login(e);\r\n\r\n    } catch (err) {\r\n      alert(err.response.data.error);\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  private login = async (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let userLoginDetails = new User(this.state.username, this.state.password);\r\n      const response = await axios.post<SuccessfulLoginServerResponse>(\"http://localhost:3001/users/login\", userLoginDetails);\r\n      const serverResponse = response.data;\r\n      const token = axios.defaults.headers.common['Authorization'] = \"Bearer \" + serverResponse.token;\r\n      sessionStorage.setItem(\"token\", token);\r\n\r\n      this.closeLoginModal();\r\n      store.dispatch({ type: ActionType.Login });\r\n      this.handleUserType(serverResponse.userType);\r\n      this.connectToSocket();\r\n\r\n      // the line below is for cancelling the landing animation\r\n      sessionStorage.setItem('landing', 'done');\r\n\r\n    } catch (err) {\r\n      alert(err.response.data.error);\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  private handleUserType = (userType: string) => {\r\n    sessionStorage.setItem(\"userType\", userType);\r\n\r\n    if (userType === \"ADMIN\") {\r\n      sessionStorage.setItem(\"userAlias\", \"admin\");\r\n      this.props.history.push(\"/admin\");\r\n\r\n    } else {\r\n      sessionStorage.setItem(\"userAlias\", this.state.username);\r\n      this.getUsersFollowing();\r\n    }\r\n  }\r\n\r\n  private closeLoginModal = () => {\r\n    // Reset modes\r\n    this.state.onRegisterMode && this.setState({ onRegisterMode: false });\r\n    store.getState().guestTryToFollow && store.dispatch({ type: ActionType.GuestTryToFollowVacation, payload: false });\r\n    // Close\r\n    store.dispatch({ type: ActionType.ShowLoginModal, payload: false });\r\n    // Remove css landing animation \r\n    sessionStorage.setItem('landing', 'done');\r\n  }\r\n\r\n\r\n  // SOCKET\r\n  private connectToSocket = () => {\r\n    let socket = io('http://localhost:3002/', { query: \"token=\" + sessionStorage.getItem(\"token\") }).connect();\r\n    store.dispatch({ type: ActionType.SetSocket, payload: socket })\r\n\r\n    socket.on(\"DELETE_VACATION\", (vacationId: number) => {\r\n      store.dispatch({ type: ActionType.DeleteVacation, payload: vacationId });\r\n    });\r\n\r\n    socket.on(\"ADD_VACATION\", (newVacation: Vacation) => {\r\n      store.dispatch({ type: ActionType.AddNewVacation, payload: newVacation });\r\n    });\r\n\r\n    socket.on(\"EDIT_VACATION\", (editedVacation: Vacation) => {\r\n      store.dispatch({ type: ActionType.EditVacation, payload: editedVacation });\r\n    });\r\n  }\r\n\r\n  public render() {\r\n\r\n    let loggedIn = store.getState().loggedIn;\r\n    let vacationsList = store.getState().vacations;\r\n    let showLoginModal = store.getState().showLoginModal;\r\n    let onRegisterMode = this.state.onRegisterMode;\r\n    let isLanding = sessionStorage.getItem('landing') ? '' : 'landing';\r\n\r\n    loggedIn\r\n      ? vacationsList.sort((a, b) => a.isFollowed === b.isFollowed ? 0 : a.isFollowed ? -1 : 1)\r\n      : vacationsList.map(vacation => vacation.isFollowed && (vacation.isFollowed = 0));\r\n\r\n\r\n    return (\r\n      <div className=\"home\">\r\n\r\n        {loggedIn &&\r\n          <GenericNavBtn page=\"user/editProfile\" displayText=\"Edit Profile\" />}\r\n\r\n        {vacationsList.map(vacation =>\r\n          <VacationCard key={vacation.id} vacation={vacation} />)}\r\n\r\n\r\n        {/* LOGIN-REGISTER MODAL */}\r\n        {(!loggedIn && showLoginModal)\r\n          &&\r\n          <div className={`modal ${isLanding}`}>\r\n            <div className={`modal-content ${isLanding}`}>\r\n\r\n              <div className=\"modal-header\">\r\n                <span className=\"close\" onClick={this.closeLoginModal}> &times; </span>\r\n                {store.getState().guestTryToFollow && <h6 className=\"modal-warning\">Only members are able to follow vacations</h6>}\r\n                <h2>{onRegisterMode ? 'Register' : 'Login'}</h2>\r\n              </div>\r\n\r\n              <div className=\"modal-body\">\r\n                <form onSubmit={onRegisterMode ? this.register : this.login} >\r\n                  <span>*</span>\r\n                  <input type=\"text\" placeholder=\"Username\" onChange={e => this.setState({ username: e.target.value })} required />\r\n                  <span>*</span>\r\n                  <input type=\"password\" placeholder=\"Password\" onChange={e => this.setState({ password: e.target.value })} required />\r\n\r\n                  {onRegisterMode &&\r\n                    <div>\r\n                      <input type=\"text\" placeholder=\"First Name\" onChange={e => this.setState({ firstName: e.target.value })} />\r\n                      <input type=\"text\" placeholder=\"Last Name\" onChange={e => this.setState({ lastName: e.target.value })} />\r\n                    </div>}\r\n\r\n                  <div className=\"btns\">\r\n                    <input className=\"submit-btn\" type=\"submit\"\r\n                      value={onRegisterMode ? \"Register\" : \"Login\"} />\r\n                    <input className=\"switch-mode-btn\" type=\"button\"\r\n                      value={onRegisterMode ? \"Already a member?\" : \"Not a member yet?\"}\r\n                      onClick={() => this.setState({ onRegisterMode: !onRegisterMode })} />\r\n                  </div>\r\n\r\n                </form>\r\n              </div>\r\n\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nimport React, { Component, FormEvent } from \"react\";\r\nimport { User } from \"../../Models/User\";\r\nimport { ModalMode } from \"../../Models/ModalMode\";\r\nimport { store } from \"../../redux/store\";\r\nimport { ActionType } from \"../../redux/action-type\";\r\nimport GenericModal from \"../generic-utils/modal\";\r\nimport GenericNavBtn from \"../generic-utils/nav-btn\";\r\nimport './edit-profile.css';\r\n\r\ninterface EditProfileState {\r\n    username: string,\r\n    firstName: string,\r\n    lastName: string,\r\n    validatePassword: string,\r\n\r\n    displayModal: boolean,\r\n    modalType: string,\r\n    successModalMode: ModalMode\r\n}\r\n\r\nexport default class EditProfile extends Component<any, EditProfileState> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            username: '', firstName: '', lastName: '', validatePassword: '',\r\n            displayModal: false, modalType: '', successModalMode: null\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        store.getState().loggedIn\r\n            ? this.getUserDetails()\r\n            : this.props.history.push('/home');\r\n    }\r\n\r\n    private getUserDetails = async () => {\r\n        try {\r\n            let response = await axios.get(\"http://localhost:3001/users\");\r\n            let user = response.data[0];\r\n\r\n            this.setState({\r\n                username: user.username,\r\n                firstName: user.firstName,\r\n                lastName: user.lastName,\r\n            });\r\n\r\n        } catch (err) {\r\n            alert(err.message);\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    private editProfile = async (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            let userDetails = new User(this.state.username, this.state.validatePassword, this.state.firstName, this.state.lastName);\r\n            await axios.put(\"http://localhost:3001/users/\", userDetails);\r\n            this.setState({ successModalMode: ModalMode.SAVED })\r\n            this.handleSuccessModal();\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.error);\r\n            console.log(err);\r\n        }\r\n    };\r\n\r\n    private handleSuccessModal = () => {\r\n        this.setState({ displayModal: true, modalType: 'success' });\r\n\r\n        setTimeout(() => {\r\n            this.setState({ displayModal: false });\r\n            this.props.history.push('/home');\r\n        }, 2000)\r\n    }\r\n\r\n    private deleteAccount = async (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            await axios.delete(\"http://localhost:3001/users\");\r\n\r\n            this.setState({ displayModal: false, successModalMode: ModalMode.DELETED });\r\n            this.handleSuccessModal();\r\n            this.logout();\r\n\r\n        } catch (err) {\r\n            alert(err.response.data.error);\r\n            console.log(err);\r\n        }\r\n    }\r\n\r\n    private logout = () => {\r\n        sessionStorage.clear();\r\n        sessionStorage.setItem('landing', 'done');\r\n        store.dispatch({ type: ActionType.Logout });\r\n\r\n        let socket = store.getState().socket;\r\n        socket.disconnect();\r\n    }\r\n\r\n    public render() {\r\n        let dangerMsg = 'Are you sure you want to delete your account?';\r\n        let successMsg = this.state.successModalMode === ModalMode.SAVED ? \"Details changed successfully!\" : \"Account deleted.\";\r\n\r\n        return (\r\n            <div className=\"edit-profile\">\r\n\r\n                <GenericNavBtn page=\"home\" displayText=\"Back Home\"/>\r\n\r\n                {this.state.displayModal &&\r\n                    <GenericModal\r\n                        msg={this.state.modalType === 'success' ? successMsg : dangerMsg}\r\n                        type={this.state.modalType}\r\n                        onSubmit={() => this.setState({ displayModal: false })}\r\n                        onDelete={this.deleteAccount}\r\n                    />\r\n                }\r\n\r\n                {/* EDIT PROFILE FORM */}\r\n                <form onSubmit={this.editProfile} className=\"backdrop-form\" >\r\n                    <h2>Edit Profile</h2>\r\n\r\n\r\n                    <input className=\"disabled\" type=\"text\" placeholder=\"Username\" defaultValue={this.state.username}\r\n                        onClick={() => alert(\"Username is not changeable\")} />\r\n                        \r\n                    <input autoFocus type=\"text\" placeholder=\"First Name\" defaultValue={this.state.firstName}\r\n                        onChange={e => this.setState({ firstName: e.target.value })} />\r\n                    <input type=\"text\" placeholder=\"Last Name\" defaultValue={this.state.lastName}\r\n                        onChange={e => this.setState({ lastName: e.target.value })} />\r\n\r\n                    <br />\r\n                    <label> Insert your current password to apply changes </label>\r\n                    <input type=\"password\" placeholder=\"Current Password\"\r\n                        onChange={e => this.setState({ validatePassword: e.target.value })} />\r\n\r\n\r\n                    <div className=\"btns\">\r\n                        <input className=\"submit-btn\" type=\"submit\" value=\"Save Changes\" />\r\n                        <input className=\"delete-btn\" type=\"button\" value=\"Delete Account\"\r\n                            onClick={() => this.setState({ displayModal: true, modalType: 'danger' })} />\r\n                    </div>\r\n\r\n                </form>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport ManageVacation from \"../admin/manage-vacation\";\nimport Admin from \"../admin/admin\";\nimport Chart from \"../admin/chart\";\nimport Header from \"../header/header\";\nimport Home from \"../home/home\";\nimport EditProfile from \"../user/edit-profile\";\nimport \"./layout.css\";\n\nexport default class Layout extends Component {\n\n  public render() {\n\n    return (\n      <div className=\"layout\">\n        <BrowserRouter>\n\n          <header>\n            <Header />\n          </header>\n\n          <main>\n            <Switch>\n              <Route path=\"/home\" component={Home} exact />\n              <Route path=\"/admin\" component={Admin} exact />\n              <Route path=\"/admin/chart\" component={Chart} exact />\n              <Route path=\"/admin/manageVacation\" component={ManageVacation} exact />\n              <Route path=\"/user/editProfile\" component={EditProfile} exact />\n              <Redirect from=\"/\" to=\"/home\" exact />\n            </Switch>\n          </main>\n\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Layout from './components/layout/layout';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Layout />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}